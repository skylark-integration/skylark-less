{"version":3,"sources":["browser/browser.js"],"names":["utils","require","module","exports","createCSS","document","styles","sheet","href","id","title","extractId","oldStyleNode","getElementById","keepOldStyleNode","styleNode","createElement","setAttribute","media","styleSheet","appendChild","createTextNode","childNodes","length","firstChild","nodeValue","head","getElementsByTagName","nextEl","nextSibling","parentNode","insertBefore","removeChild","cssText","e","Error","currentScript","window","scripts"],"mappings":";;;;;;;AAAA,IAAIA,MAAQC,QAAQ,WACpBC,OAAOC,SACHC,UAAW,SAAUC,EAAUC,EAAQC,GACnC,IAAIC,EAAOD,EAAMC,MAAQ,GACrBC,EAAK,SAAWF,EAAMG,OAASV,MAAMW,UAAUH,IAC/CI,EAAeP,EAASQ,eAAeJ,GACvCK,GAAmB,EACnBC,EAAYV,EAASW,cAAc,SACvCD,EAAUE,aAAa,OAAQ,YAC3BV,EAAMW,OACNH,EAAUE,aAAa,QAASV,EAAMW,OAE1CH,EAAUN,GAAKA,EACVM,EAAUI,aACXJ,EAAUK,YAAYf,EAASgB,eAAef,IAC9CQ,EAAoC,OAAjBF,GAAyBA,EAAaU,WAAWC,OAAS,GAAKR,EAAUO,WAAWC,OAAS,GAAKX,EAAaY,WAAWC,YAAcV,EAAUS,WAAWC,WAEpL,IAAIC,EAAOrB,EAASsB,qBAAqB,QAAQ,GACjD,GAAqB,OAAjBf,IAA8C,IAArBE,EAA4B,CACrD,IAAIc,EAASrB,GAASA,EAAMsB,aAAe,KACvCD,EACAA,EAAOE,WAAWC,aAAahB,EAAWa,GAE1CF,EAAKN,YAAYL,GAMzB,GAHIH,IAAqC,IAArBE,GAChBF,EAAakB,WAAWE,YAAYpB,GAEpCG,EAAUI,WACV,IACIJ,EAAUI,WAAWc,QAAU3B,EACjC,MAAO4B,GACL,MAAM,IAAIC,MAAM,2CAI5BC,cAAe,SAAUC,GACrB,IAEQC,EAFJjC,EAAWgC,EAAOhC,SACtB,OAAOA,EAAS+B,gBACRE,EAAUjC,EAASsB,qBAAqB,WAC7BW,EAAQf,OAAS","file":"../../browser/browser.js","sourcesContent":["var utils = require('./utils');\nmodule.exports = {\n    createCSS: function (document, styles, sheet) {\n        var href = sheet.href || '';\n        var id = 'less:' + (sheet.title || utils.extractId(href));\n        var oldStyleNode = document.getElementById(id);\n        var keepOldStyleNode = false;\n        var styleNode = document.createElement('style');\n        styleNode.setAttribute('type', 'text/css');\n        if (sheet.media) {\n            styleNode.setAttribute('media', sheet.media);\n        }\n        styleNode.id = id;\n        if (!styleNode.styleSheet) {\n            styleNode.appendChild(document.createTextNode(styles));\n            keepOldStyleNode = oldStyleNode !== null && oldStyleNode.childNodes.length > 0 && styleNode.childNodes.length > 0 && oldStyleNode.firstChild.nodeValue === styleNode.firstChild.nodeValue;\n        }\n        var head = document.getElementsByTagName('head')[0];\n        if (oldStyleNode === null || keepOldStyleNode === false) {\n            var nextEl = sheet && sheet.nextSibling || null;\n            if (nextEl) {\n                nextEl.parentNode.insertBefore(styleNode, nextEl);\n            } else {\n                head.appendChild(styleNode);\n            }\n        }\n        if (oldStyleNode && keepOldStyleNode === false) {\n            oldStyleNode.parentNode.removeChild(oldStyleNode);\n        }\n        if (styleNode.styleSheet) {\n            try {\n                styleNode.styleSheet.cssText = styles;\n            } catch (e) {\n                throw new Error(\"Couldn't reassign styleSheet.cssText.\");\n            }\n        }\n    },\n    currentScript: function (window) {\n        var document = window.document;\n        return document.currentScript || function () {\n            var scripts = document.getElementsByTagName('script');\n            return scripts[scripts.length - 1];\n        }();\n    }\n};"]}