{"version":3,"sources":["engine/tree/javascript.js"],"names":["JsEvalNode","require","Dimension","Quoted","Anonymous","JavaScript","string","escaped","index","currentFileInfo","this","expression","_index","_fileInfo","prototype","type","eval","context","result","evaluateJavaScript","isNaN","Array","isArray","join","module","exports"],"mappings":";;;;;;;AAAA,IAAIA,WAAaC,QAAQ,kBAAmBC,UAAYD,QAAQ,eAAgBE,OAASF,QAAQ,YAAaG,UAAYH,QAAQ,eAC9HI,WAAa,SAAUC,EAAQC,EAASC,EAAOC,GAC/CC,KAAKH,QAAUA,EACfG,KAAKC,WAAaL,EAClBI,KAAKE,OAASJ,EACdE,KAAKG,UAAYJ,GAErBJ,WAAWS,UAAY,IAAId,WAC3BK,WAAWS,UAAUC,KAAO,aAC5BV,WAAWS,UAAUE,KAAO,SAAUC,GAClC,IAAIC,EAASR,KAAKS,mBAAmBT,KAAKC,WAAYM,GAClDF,SAAcG,EAClB,MAAa,WAATH,GAAsBK,MAAMF,GAEZ,WAATH,EACA,IAAIZ,OAAO,IAAMe,EAAS,IAAKA,EAAQR,KAAKH,QAASG,KAAKE,QAC1DS,MAAMC,QAAQJ,GACd,IAAId,UAAUc,EAAOK,KAAK,OAE1B,IAAInB,UAAUc,GANd,IAAIhB,UAAUgB,IAS7BM,OAAOC,QAAUpB","file":"../../../engine/tree/javascript.js","sourcesContent":["var JsEvalNode = require('./js-eval-node'), Dimension = require('./dimension'), Quoted = require('./quoted'), Anonymous = require('./anonymous');\nvar JavaScript = function (string, escaped, index, currentFileInfo) {\n    this.escaped = escaped;\n    this.expression = string;\n    this._index = index;\n    this._fileInfo = currentFileInfo;\n};\nJavaScript.prototype = new JsEvalNode();\nJavaScript.prototype.type = 'JavaScript';\nJavaScript.prototype.eval = function (context) {\n    var result = this.evaluateJavaScript(this.expression, context);\n    var type = typeof result;\n    if (type === 'number' && !isNaN(result)) {\n        return new Dimension(result);\n    } else if (type === 'string') {\n        return new Quoted('\"' + result + '\"', result, this.escaped, this._index);\n    } else if (Array.isArray(result)) {\n        return new Anonymous(result.join(', '));\n    } else {\n        return new Anonymous(result);\n    }\n};\nmodule.exports = JavaScript;"]}