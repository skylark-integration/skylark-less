{"version":3,"sources":["engine/tree/element.js"],"names":["define","__module__0","__module__1","__module__2","exports","module","Paren","Combinator","Element","combinator","value","isVariable","index","currentFileInfo","visibilityInfo","this","trim","_index","_fileInfo","copyVisibilityInfo","setParent","__isValidToReturn","obj","Array","isArray","attr","__isEmptyObject","prototype","type","accept","visitor","visit","eval","context","getIndex","fileInfo","clone","genCSS","output","add","toCSS","firstSelector","charAt"],"mappings":";;;;;;;AAAAA,QACI,SACA,UACA,gBACD,SAAUC,EAAaC,EAAaC,GACnC,aACA,IAAIC,KACAC,GAAWD,YACSE,EAAQJ,EAAaK,EAAaJ,EACtDK,EAAU,SAAUC,EAAYC,EAAOC,EAAYC,EAAOC,EAAiBC,GAC3EC,KAAKN,WAAaA,aAAsBF,EAAaE,EAAa,IAAIF,EAAWE,GAE7EM,KAAKL,MADY,iBAAVA,EACMA,EAAMM,OACZN,GAGM,GAEjBK,KAAKJ,WAAaA,EAClBI,KAAKE,OAASL,EACdG,KAAKG,UAAYL,EACjBE,KAAKI,mBAAmBL,GACxBC,KAAKK,UAAUL,KAAKN,WAAYM,OAyCpC,SAASM,EAAkBC,GACvB,MAAqB,iBAAPA,GAAmBC,MAAMC,QAAQF,KAPnD,SAAyBA,GACrB,IAAIG,EACJ,IAAKA,KAAQH,EACT,OAAO,EACX,OAAO,EAGiDI,CAAgBJ,GAE5E,OA1CAd,EAAQmB,UAAY,IAhBT1B,GAiBO2B,KAAO,UACzBpB,EAAQmB,UAAUE,OAAS,SAAUC,GACjC,IAAIpB,EAAQK,KAAKL,MACjBK,KAAKN,WAAaqB,EAAQC,MAAMhB,KAAKN,YAChB,iBAAVC,IACPK,KAAKL,MAAQoB,EAAQC,MAAMrB,KAGnCF,EAAQmB,UAAUK,KAAO,SAAUC,GAC/B,OAAO,IAAIzB,EAAQO,KAAKN,WAAYM,KAAKL,MAAMsB,KAAOjB,KAAKL,MAAMsB,KAAKC,GAAWlB,KAAKL,MAAOK,KAAKJ,WAAYI,KAAKmB,WAAYnB,KAAKoB,WAAYpB,KAAKD,mBAEzJN,EAAQmB,UAAUS,MAAQ,WACtB,OAAO,IAAI5B,EAAQO,KAAKN,WAAYM,KAAKL,MAAOK,KAAKJ,WAAYI,KAAKmB,WAAYnB,KAAKoB,WAAYpB,KAAKD,mBAE5GN,EAAQmB,UAAUU,OAAS,SAAUJ,EAASK,GAC1CA,EAAOC,IAAIxB,KAAKyB,MAAMP,GAAUlB,KAAKoB,WAAYpB,KAAKmB,aAE1D1B,EAAQmB,UAAUa,MAAQ,SAAUP,GAChCA,EAAUA,MACV,IAAIvB,EAAQK,KAAKL,MAAO+B,EAAgBR,EAAQQ,cAMhD,OALI/B,aAAiBJ,IACjB2B,EAAQQ,eAAgB,GAE5B/B,EAAQA,EAAM8B,MAAQ9B,EAAM8B,MAAMP,GAAWvB,EAC7CuB,EAAQQ,cAAgBA,EACV,KAAV/B,GAAoD,MAApCK,KAAKN,WAAWC,MAAMgC,OAAO,GACtC,GAEA3B,KAAKN,WAAW+B,MAAMP,GAAWvB,GAGhDL,EAAOD,QAAUI,EAUba,EAAkBhB,EAAOD,SAClBC,EAAOD,QACTiB,EAAkBjB,GAChBA,OADN","file":"../../../engine/tree/element.js","sourcesContent":["define([\n    './node',\n    './paren',\n    './combinator'\n], function (__module__0, __module__1, __module__2) {\n    'use strict';\n    var exports = {};\n    var module = { exports: {} };\n    var Node = __module__0, Paren = __module__1, Combinator = __module__2;\n    var Element = function (combinator, value, isVariable, index, currentFileInfo, visibilityInfo) {\n        this.combinator = combinator instanceof Combinator ? combinator : new Combinator(combinator);\n        if (typeof value === 'string') {\n            this.value = value.trim();\n        } else if (value) {\n            this.value = value;\n        } else {\n            this.value = '';\n        }\n        this.isVariable = isVariable;\n        this._index = index;\n        this._fileInfo = currentFileInfo;\n        this.copyVisibilityInfo(visibilityInfo);\n        this.setParent(this.combinator, this);\n    };\n    Element.prototype = new Node();\n    Element.prototype.type = 'Element';\n    Element.prototype.accept = function (visitor) {\n        var value = this.value;\n        this.combinator = visitor.visit(this.combinator);\n        if (typeof value === 'object') {\n            this.value = visitor.visit(value);\n        }\n    };\n    Element.prototype.eval = function (context) {\n        return new Element(this.combinator, this.value.eval ? this.value.eval(context) : this.value, this.isVariable, this.getIndex(), this.fileInfo(), this.visibilityInfo());\n    };\n    Element.prototype.clone = function () {\n        return new Element(this.combinator, this.value, this.isVariable, this.getIndex(), this.fileInfo(), this.visibilityInfo());\n    };\n    Element.prototype.genCSS = function (context, output) {\n        output.add(this.toCSS(context), this.fileInfo(), this.getIndex());\n    };\n    Element.prototype.toCSS = function (context) {\n        context = context || {};\n        var value = this.value, firstSelector = context.firstSelector;\n        if (value instanceof Paren) {\n            context.firstSelector = true;\n        }\n        value = value.toCSS ? value.toCSS(context) : value;\n        context.firstSelector = firstSelector;\n        if (value === '' && this.combinator.value.charAt(0) === '&') {\n            return '';\n        } else {\n            return this.combinator.toCSS(context) + value;\n        }\n    };\n    module.exports = Element;\n    function __isEmptyObject(obj) {\n        var attr;\n        for (attr in obj)\n            return !1;\n        return !0;\n    }\n    function __isValidToReturn(obj) {\n        return typeof obj != 'object' || Array.isArray(obj) || !__isEmptyObject(obj);\n    }\n    if (__isValidToReturn(module.exports))\n        return module.exports;\n    else if (__isValidToReturn(exports))\n        return exports;\n});"]}