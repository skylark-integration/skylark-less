{"version":3,"sources":["engine/tree/detached-ruleset.js"],"names":["Node","require","contexts","utils","DetachedRuleset","ruleset","frames","this","setParent","prototype","type","evalFirst","accept","visitor","visit","eval","context","copyArray","callEval","Eval","concat","module","exports"],"mappings":";;;;;;;AAAA,IAAIA,KAAOC,QAAQ,UAAWC,SAAWD,QAAQ,eAAgBE,MAAQF,QAAQ,YAC7EG,gBAAkB,SAAUC,EAASC,GACrCC,KAAKF,QAAUA,EACfE,KAAKD,OAASA,EACdC,KAAKC,UAAUD,KAAKF,QAASE,OAEjCH,gBAAgBK,UAAY,IAAIT,KAChCI,gBAAgBK,UAAUC,KAAO,kBACjCN,gBAAgBK,UAAUE,WAAY,EACtCP,gBAAgBK,UAAUG,OAAS,SAAUC,GACzCN,KAAKF,QAAUQ,EAAQC,MAAMP,KAAKF,UAEtCD,gBAAgBK,UAAUM,KAAO,SAAUC,GACvC,IAAIV,EAASC,KAAKD,QAAUH,MAAMc,UAAUD,EAAQV,QACpD,OAAO,IAAIF,gBAAgBG,KAAKF,QAASC,IAE7CF,gBAAgBK,UAAUS,SAAW,SAAUF,GAC3C,OAAOT,KAAKF,QAAQU,KAAKR,KAAKD,OAAS,IAAIJ,SAASiB,KAAKH,EAAST,KAAKD,OAAOc,OAAOJ,EAAQV,SAAWU,IAE5GK,OAAOC,QAAUlB","file":"../../../engine/tree/detached-ruleset.js","sourcesContent":["var Node = require('./node'), contexts = require('../contexts'), utils = require('../utils');\nvar DetachedRuleset = function (ruleset, frames) {\n    this.ruleset = ruleset;\n    this.frames = frames;\n    this.setParent(this.ruleset, this);\n};\nDetachedRuleset.prototype = new Node();\nDetachedRuleset.prototype.type = 'DetachedRuleset';\nDetachedRuleset.prototype.evalFirst = true;\nDetachedRuleset.prototype.accept = function (visitor) {\n    this.ruleset = visitor.visit(this.ruleset);\n};\nDetachedRuleset.prototype.eval = function (context) {\n    var frames = this.frames || utils.copyArray(context.frames);\n    return new DetachedRuleset(this.ruleset, frames);\n};\nDetachedRuleset.prototype.callEval = function (context) {\n    return this.ruleset.eval(this.frames ? new contexts.Eval(context, this.frames.concat(context.frames)) : context);\n};\nmodule.exports = DetachedRuleset;"]}