{"version":3,"sources":["engine/visitors/set-tree-visibility-visitor.js"],"names":["SetTreeVisibilityVisitor","visible","this","prototype","run","root","visit","visitArray","nodes","i","cnt","length","node","constructor","Array","blocksVisibility","ensureVisibility","ensureInvisibility","accept","module","exports"],"mappings":";;;;;;;AAAA,IAAIA,yBAA2B,SAAUC,GACrCC,KAAKD,QAAUA,GAEnBD,yBAAyBG,UAAUC,IAAM,SAAUC,GAC/CH,KAAKI,MAAMD,IAEfL,yBAAyBG,UAAUI,WAAa,SAAUC,GACtD,IAAKA,EACD,OAAOA,EAEX,IAAwBC,EAApBC,EAAMF,EAAMG,OAChB,IAAKF,EAAI,EAAGA,EAAIC,EAAKD,IACjBP,KAAKI,MAAME,EAAMC,IAErB,OAAOD,GAEXR,yBAAyBG,UAAUG,MAAQ,SAAUM,GACjD,OAAKA,EAGDA,EAAKC,cAAgBC,MACdZ,KAAKK,WAAWK,IAEtBA,EAAKG,kBAAoBH,EAAKG,mBACxBH,GAEPV,KAAKD,QACLW,EAAKI,mBAELJ,EAAKK,qBAETL,EAAKM,OAAOhB,MACLU,GAdIA,GAgBfO,OAAOC,QAAUpB","file":"../../../engine/visitors/set-tree-visibility-visitor.js","sourcesContent":["var SetTreeVisibilityVisitor = function (visible) {\n    this.visible = visible;\n};\nSetTreeVisibilityVisitor.prototype.run = function (root) {\n    this.visit(root);\n};\nSetTreeVisibilityVisitor.prototype.visitArray = function (nodes) {\n    if (!nodes) {\n        return nodes;\n    }\n    var cnt = nodes.length, i;\n    for (i = 0; i < cnt; i++) {\n        this.visit(nodes[i]);\n    }\n    return nodes;\n};\nSetTreeVisibilityVisitor.prototype.visit = function (node) {\n    if (!node) {\n        return node;\n    }\n    if (node.constructor === Array) {\n        return this.visitArray(node);\n    }\n    if (!node.blocksVisibility || node.blocksVisibility()) {\n        return node;\n    }\n    if (this.visible) {\n        node.ensureVisibility();\n    } else {\n        node.ensureInvisibility();\n    }\n    node.accept(this);\n    return node;\n};\nmodule.exports = SetTreeVisibilityVisitor;"]}