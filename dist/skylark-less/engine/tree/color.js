/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
define(["./node","../data/colors"],function(t,r){"use strict";var a={},e={exports:{}},n=r,i=function(t,r,a){var e=this;Array.isArray(t)?this.rgb=t:t.length>=6?(this.rgb=[],t.match(/.{2}/g).map(function(t,r){r<3?e.rgb.push(parseInt(t,16)):e.alpha=parseInt(t,16)/255})):(this.rgb=[],t.split("").map(function(t,r){r<3?e.rgb.push(parseInt(t+t,16)):e.alpha=parseInt(t+t,16)/255})),this.alpha=this.alpha||("number"==typeof r?r:1),void 0!==a&&(this.value=a)};function o(t,r){return Math.min(Math.max(t,0),r)}function s(t){return"#"+t.map(function(t){return((t=o(Math.round(t),255))<16?"0":"")+t.toString(16)}).join("")}function h(t){return"object"!=typeof t||Array.isArray(t)||!function(t){var r;for(r in t)return!1;return!0}(t)}return(i.prototype=new t).type="Color",i.prototype.luma=function(){var t=this.rgb[0]/255,r=this.rgb[1]/255,a=this.rgb[2]/255;return.2126*(t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(r=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(a=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},i.prototype.genCSS=function(t,r){r.add(this.toCSS(t))},i.prototype.toCSS=function(t,r){var a,e,n,i=t&&t.compress&&!r,s=[];if(e=this.fround(t,this.alpha),this.value)if(0===this.value.indexOf("rgb"))e<1&&(n="rgba");else{if(0!==this.value.indexOf("hsl"))return this.value;n=e<1?"hsla":"hsl"}else e<1&&(n="rgba");switch(n){case"rgba":s=this.rgb.map(function(t){return o(Math.round(t),255)}).concat(o(e,1));break;case"hsla":s.push(o(e,1));case"hsl":a=this.toHSL(),s=[this.fround(t,a.h),this.fround(t,100*a.s)+"%",this.fround(t,100*a.l)+"%"].concat(s)}if(n)return n+"("+s.join(","+(i?"":" "))+")";if(a=this.toRGB(),i){var h=a.split("");h[1]===h[2]&&h[3]===h[4]&&h[5]===h[6]&&(a="#"+h[1]+h[3]+h[5])}return a},i.prototype.operate=function(t,r,a){for(var e=new Array(3),n=this.alpha*(1-a.alpha)+a.alpha,o=0;o<3;o++)e[o]=this._operate(t,r,this.rgb[o],a.rgb[o]);return new i(e,n)},i.prototype.toRGB=function(){return s(this.rgb)},i.prototype.toHSL=function(){var t,r,a=this.rgb[0]/255,e=this.rgb[1]/255,n=this.rgb[2]/255,i=this.alpha,o=Math.max(a,e,n),s=Math.min(a,e,n),h=(o+s)/2,p=o-s;if(o===s)t=r=0;else{switch(r=h>.5?p/(2-o-s):p/(o+s),o){case a:t=(e-n)/p+(e<n?6:0);break;case e:t=(n-a)/p+2;break;case n:t=(a-e)/p+4}t/=6}return{h:360*t,s:r,l:h,a:i}},i.prototype.toHSV=function(){var t,r,a=this.rgb[0]/255,e=this.rgb[1]/255,n=this.rgb[2]/255,i=this.alpha,o=Math.max(a,e,n),s=Math.min(a,e,n),h=o,p=o-s;if(r=0===o?0:p/o,o===s)t=0;else{switch(o){case a:t=(e-n)/p+(e<n?6:0);break;case e:t=(n-a)/p+2;break;case n:t=(a-e)/p+4}t/=6}return{h:360*t,s:r,v:h,a:i}},i.prototype.toARGB=function(){return s([255*this.alpha].concat(this.rgb))},i.prototype.compare=function(t){return t.rgb&&t.rgb[0]===this.rgb[0]&&t.rgb[1]===this.rgb[1]&&t.rgb[2]===this.rgb[2]&&t.alpha===this.alpha?0:void 0},i.fromKeyword=function(t){var r,a=t.toLowerCase();if(n.hasOwnProperty(a)?r=new i(n[a].slice(1)):"transparent"===a&&(r=new i([0,0,0],0)),r)return r.value=t,r},e.exports=i,h(e.exports)?e.exports:h(a)?a:void 0});
//# sourceMappingURL=../../sourcemaps/engine/tree/color.js.map
