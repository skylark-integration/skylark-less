/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
var Node=require("./node"),unitConversions=require("../data/unit-conversions"),utils=require("../utils"),Unit=function(t,n,i){this.numerator=t?utils.copyArray(t).sort():[],this.denominator=n?utils.copyArray(n).sort():[],i?this.backupUnit=i:t&&t.length&&(this.backupUnit=t[0])};Unit.prototype=new Node,Unit.prototype.type="Unit",Unit.prototype.clone=function(){return new Unit(utils.copyArray(this.numerator),utils.copyArray(this.denominator),this.backupUnit)},Unit.prototype.genCSS=function(t,n){var i=t&&t.strictUnits;1===this.numerator.length?n.add(this.numerator[0]):!i&&this.backupUnit?n.add(this.backupUnit):!i&&this.denominator.length&&n.add(this.denominator[0])},Unit.prototype.toString=function(){var t,n=this.numerator.join("*");for(t=0;t<this.denominator.length;t++)n+="/"+this.denominator[t];return n},Unit.prototype.compare=function(t){return this.is(t.toString())?0:void 0},Unit.prototype.is=function(t){return this.toString().toUpperCase()===t.toUpperCase()},Unit.prototype.isLength=function(){return RegExp("^(px|em|ex|ch|rem|in|cm|mm|pc|pt|ex|vw|vh|vmin|vmax)$","gi").test(this.toCSS())},Unit.prototype.isEmpty=function(){return 0===this.numerator.length&&0===this.denominator.length},Unit.prototype.isSingular=function(){return this.numerator.length<=1&&0===this.denominator.length},Unit.prototype.map=function(t){var n;for(n=0;n<this.numerator.length;n++)this.numerator[n]=t(this.numerator[n],!1);for(n=0;n<this.denominator.length;n++)this.denominator[n]=t(this.denominator[n],!0)},Unit.prototype.usedUnits=function(){var t,n,i,r={};for(i in n=function(n){return t.hasOwnProperty(n)&&!r[i]&&(r[i]=n),n},unitConversions)unitConversions.hasOwnProperty(i)&&(t=unitConversions[i],this.map(n));return r},Unit.prototype.cancel=function(){var t,n,i={};for(n=0;n<this.numerator.length;n++)i[t=this.numerator[n]]=(i[t]||0)+1;for(n=0;n<this.denominator.length;n++)i[t=this.denominator[n]]=(i[t]||0)-1;for(t in this.numerator=[],this.denominator=[],i)if(i.hasOwnProperty(t)){var r=i[t];if(r>0)for(n=0;n<r;n++)this.numerator.push(t);else if(r<0)for(n=0;n<-r;n++)this.denominator.push(t)}this.numerator.sort(),this.denominator.sort()},module.exports=Unit;
//# sourceMappingURL=../../sourcemaps/engine/tree/unit.js.map
