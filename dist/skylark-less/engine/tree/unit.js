/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
define(["./node","../data/unit-conversions","../utils"],function(t,r,n){"use strict";var o={},i={exports:{}},e=r,s=n,a=function(t,r,n){this.numerator=t?s.copyArray(t).sort():[],this.denominator=r?s.copyArray(r).sort():[],n?this.backupUnit=n:t&&t.length&&(this.backupUnit=t[0])};function h(t){return"object"!=typeof t||Array.isArray(t)||!function(t){var r;for(r in t)return!1;return!0}(t)}return(a.prototype=new t).type="Unit",a.prototype.clone=function(){return new a(s.copyArray(this.numerator),s.copyArray(this.denominator),this.backupUnit)},a.prototype.genCSS=function(t,r){var n=t&&t.strictUnits;1===this.numerator.length?r.add(this.numerator[0]):!n&&this.backupUnit?r.add(this.backupUnit):!n&&this.denominator.length&&r.add(this.denominator[0])},a.prototype.toString=function(){var t,r=this.numerator.join("*");for(t=0;t<this.denominator.length;t++)r+="/"+this.denominator[t];return r},a.prototype.compare=function(t){return this.is(t.toString())?0:void 0},a.prototype.is=function(t){return this.toString().toUpperCase()===t.toUpperCase()},a.prototype.isLength=function(){return RegExp("^(px|em|ex|ch|rem|in|cm|mm|pc|pt|ex|vw|vh|vmin|vmax)$","gi").test(this.toCSS())},a.prototype.isEmpty=function(){return 0===this.numerator.length&&0===this.denominator.length},a.prototype.isSingular=function(){return this.numerator.length<=1&&0===this.denominator.length},a.prototype.map=function(t){var r;for(r=0;r<this.numerator.length;r++)this.numerator[r]=t(this.numerator[r],!1);for(r=0;r<this.denominator.length;r++)this.denominator[r]=t(this.denominator[r],!0)},a.prototype.usedUnits=function(){var t,r,n,o={};for(n in r=function(r){return t.hasOwnProperty(r)&&!o[n]&&(o[n]=r),r},e)e.hasOwnProperty(n)&&(t=e[n],this.map(r));return o},a.prototype.cancel=function(){var t,r,n={};for(r=0;r<this.numerator.length;r++)n[t=this.numerator[r]]=(n[t]||0)+1;for(r=0;r<this.denominator.length;r++)n[t=this.denominator[r]]=(n[t]||0)-1;for(t in this.numerator=[],this.denominator=[],n)if(n.hasOwnProperty(t)){var o=n[t];if(o>0)for(r=0;r<o;r++)this.numerator.push(t);else if(o<0)for(r=0;r<-o;r++)this.denominator.push(t)}this.numerator.sort(),this.denominator.sort()},i.exports=a,h(i.exports)?i.exports:h(o)?o:void 0});
//# sourceMappingURL=../../sourcemaps/engine/tree/unit.js.map
