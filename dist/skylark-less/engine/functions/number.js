/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
var Dimension=require("../tree/dimension"),Anonymous=require("../tree/anonymous"),functionRegistry=require("./function-registry"),mathHelper=require("./math-helper.js"),minMax=function(n,e){switch((e=Array.prototype.slice.call(e)).length){case 0:throw{type:"Argument",message:"one or more arguments required"}}var i,t,r,o,u,a,s,m,l=[],c={};for(i=0;i<e.length;i++)if((r=e[i])instanceof Dimension)if(s=""!==(a=""===(o=""===r.unit.toString()&&void 0!==m?new Dimension(r.value,m).unify():r.unify()).unit.toString()&&void 0!==s?s:o.unit.toString())&&void 0===s||""!==a&&""===l[0].unify().unit.toString()?a:s,m=""!==a&&void 0===m?r.unit.toString():m,void 0!==(t=void 0!==c[""]&&""!==a&&a===s?c[""]:c[a]))u=""===l[t].unit.toString()&&void 0!==m?new Dimension(l[t].value,m).unify():l[t].unify(),(n&&o.value<u.value||!n&&o.value>u.value)&&(l[t]=r);else{if(void 0!==s&&a!==s)throw{type:"Argument",message:"incompatible types"};c[a]=l.length,l.push(r)}else Array.isArray(e[i].value)&&Array.prototype.push.apply(e,Array.prototype.slice.call(e[i].value));return 1==l.length?l[0]:(e=l.map(function(n){return n.toCSS(this.context)}).join(this.context.compress?",":", "),new Anonymous((n?"min":"max")+"("+e+")"))};functionRegistry.addMultiple({min:function(){return minMax(!0,arguments)},max:function(){return minMax(!1,arguments)},convert:function(n,e){return n.convertTo(e.value)},pi:function(){return new Dimension(Math.PI)},mod:function(n,e){return new Dimension(n.value%e.value,n.unit)},pow:function(n,e){if("number"==typeof n&&"number"==typeof e)n=new Dimension(n),e=new Dimension(e);else if(!(n instanceof Dimension&&e instanceof Dimension))throw{type:"Argument",message:"arguments must be numbers"};return new Dimension(Math.pow(n.value,e.value),n.unit)},percentage:function(n){return mathHelper._math(function(n){return 100*n},"%",n)}});
//# sourceMappingURL=../../sourcemaps/engine/functions/number.js.map
