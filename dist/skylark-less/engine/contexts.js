/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
define(["./constants"],function(t){"use strict";var r={},a={exports:{}},e={};a.exports=e;var s=t,i=function(t,r,a){if(t)for(var e=0;e<a.length;e++)t.hasOwnProperty(a[e])&&(r[a[e]]=t[a[e]])},n=["paths","rewriteUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","syncImport","chunkInput","mime","useFileCache","processImports","pluginManager"];e.Parse=function(t){i(t,this,n),"string"==typeof this.paths&&(this.paths=[this.paths])};var p=["paths","compress","ieCompat","math","strictUnits","sourceMap","importMultiple","urlArgs","javascriptEnabled","pluginManager","importantScope","rewriteUrls"];function o(t){return!/^(?:[a-z-]+:|\/|#)/i.test(t)}function h(t){return"."===t.charAt(0)}function c(t){return"object"!=typeof t||Array.isArray(t)||!function(t){var r;for(r in t)return!1;return!0}(t)}return e.Eval=function(t,r){i(t,this,p),"string"==typeof this.paths&&(this.paths=[this.paths]),this.frames=r||[],this.importantScope=this.importantScope||[]},e.Eval.prototype.enterCalc=function(){this.calcStack||(this.calcStack=[]),this.calcStack.push(!0),this.inCalc=!0},e.Eval.prototype.exitCalc=function(){this.calcStack.pop(),this.calcStack||(this.inCalc=!1)},e.Eval.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]),this.parensStack.push(!0)},e.Eval.prototype.outOfParenthesis=function(){this.parensStack.pop()},e.Eval.prototype.inCalc=!1,e.Eval.prototype.mathOn=!0,e.Eval.prototype.isMathOn=function(t){return!!this.mathOn&&(!!("/"!==t||this.math===s.Math.ALWAYS||this.parensStack&&this.parensStack.length)&&(!(this.math>s.Math.PARENS_DIVISION)||this.parensStack&&this.parensStack.length))},e.Eval.prototype.pathRequiresRewrite=function(t){return(this.rewriteUrls===s.RewriteUrls.LOCAL?h:o)(t)},e.Eval.prototype.rewritePath=function(t,r){var a;return r=r||"",a=this.normalizePath(r+t),h(t)&&o(r)&&!1===h(a)&&(a="./"+a),a},e.Eval.prototype.normalizePath=function(t){var r,a=t.split("/").reverse();for(t=[];0!==a.length;)switch(r=a.pop()){case".":break;case"..":0===t.length||".."===t[t.length-1]?t.push(r):t.pop();break;default:t.push(r)}return t.join("/")},c(a.exports)?a.exports:c(r)?r:void 0});
//# sourceMappingURL=../sourcemaps/engine/contexts.js.map
