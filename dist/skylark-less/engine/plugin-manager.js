/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
var pm,PluginManager=function(r){this.less=r,this.visitors=[],this.preProcessors=[],this.postProcessors=[],this.installedPlugins=[],this.fileManagers=[],this.iterator=-1,this.pluginCache={},this.Loader=new r.PluginLoader(r)},PluginManagerFactory=function(r,s){return!s&&pm||(pm=new PluginManager(r)),pm};PluginManager.prototype.addPlugins=function(r){if(r)for(var s=0;s<r.length;s++)this.addPlugin(r[s])},PluginManager.prototype.addPlugin=function(r,s,t){this.installedPlugins.push(r),s&&(this.pluginCache[s]=r),r.install&&r.install(this.less,this,t||this.less.functions.functionRegistry)},PluginManager.prototype.get=function(r){return this.pluginCache[r]},PluginManager.prototype.addVisitor=function(r){this.visitors.push(r)},PluginManager.prototype.addPreProcessor=function(r,s){var t;for(t=0;t<this.preProcessors.length&&!(this.preProcessors[t].priority>=s);t++);this.preProcessors.splice(t,0,{preProcessor:r,priority:s})},PluginManager.prototype.addPostProcessor=function(r,s){var t;for(t=0;t<this.postProcessors.length&&!(this.postProcessors[t].priority>=s);t++);this.postProcessors.splice(t,0,{postProcessor:r,priority:s})},PluginManager.prototype.addFileManager=function(r){this.fileManagers.push(r)},PluginManager.prototype.getPreProcessors=function(){for(var r=[],s=0;s<this.preProcessors.length;s++)r.push(this.preProcessors[s].preProcessor);return r},PluginManager.prototype.getPostProcessors=function(){for(var r=[],s=0;s<this.postProcessors.length;s++)r.push(this.postProcessors[s].postProcessor);return r},PluginManager.prototype.getVisitors=function(){return this.visitors},PluginManager.prototype.visitor=function(){var r=this;return{first:function(){return r.iterator=-1,r.visitors[r.iterator]},get:function(){return r.iterator+=1,r.visitors[r.iterator]}}},PluginManager.prototype.getFileManagers=function(){return this.fileManagers},module.exports=PluginManagerFactory;
//# sourceMappingURL=../sourcemaps/engine/plugin-manager.js.map
