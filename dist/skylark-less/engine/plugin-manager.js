/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
define([],function(){"use strict";var r,t={},s={exports:{}},o=function(r){this.less=r,this.visitors=[],this.preProcessors=[],this.postProcessors=[],this.installedPlugins=[],this.fileManagers=[],this.iterator=-1,this.pluginCache={},this.Loader=new r.PluginLoader(r)};function i(r){return"object"!=typeof r||Array.isArray(r)||!function(r){var t;for(t in r)return!1;return!0}(r)}return o.prototype.addPlugins=function(r){if(r)for(var t=0;t<r.length;t++)this.addPlugin(r[t])},o.prototype.addPlugin=function(r,t,s){this.installedPlugins.push(r),t&&(this.pluginCache[t]=r),r.install&&r.install(this.less,this,s||this.less.functions.functionRegistry)},o.prototype.get=function(r){return this.pluginCache[r]},o.prototype.addVisitor=function(r){this.visitors.push(r)},o.prototype.addPreProcessor=function(r,t){var s;for(s=0;s<this.preProcessors.length&&!(this.preProcessors[s].priority>=t);s++);this.preProcessors.splice(s,0,{preProcessor:r,priority:t})},o.prototype.addPostProcessor=function(r,t){var s;for(s=0;s<this.postProcessors.length&&!(this.postProcessors[s].priority>=t);s++);this.postProcessors.splice(s,0,{postProcessor:r,priority:t})},o.prototype.addFileManager=function(r){this.fileManagers.push(r)},o.prototype.getPreProcessors=function(){for(var r=[],t=0;t<this.preProcessors.length;t++)r.push(this.preProcessors[t].preProcessor);return r},o.prototype.getPostProcessors=function(){for(var r=[],t=0;t<this.postProcessors.length;t++)r.push(this.postProcessors[t].postProcessor);return r},o.prototype.getVisitors=function(){return this.visitors},o.prototype.visitor=function(){var r=this;return{first:function(){return r.iterator=-1,r.visitors[r.iterator]},get:function(){return r.iterator+=1,r.visitors[r.iterator]}}},o.prototype.getFileManagers=function(){return this.fileManagers},s.exports=function(t,s){return!s&&r||(r=new o(t)),r},i(s.exports)?s.exports:i(t)?t:void 0});
//# sourceMappingURL=../sourcemaps/engine/plugin-manager.js.map
