/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
define(["./utils"],function(t){"use strict";var i={},e={exports:{}},n=t,r=e.exports=function(t,i,e){Error.call(this);var r=t.filename||e;if(this.message=t.message,this.stack=t.stack,i&&r){var s=i.contents[r],o=n.getLocation(t.index,s),l=o.line,c=o.column,a=t.call&&n.getLocation(t.call,s).line,h=s?s.split("\n"):"";if(this.type=t.type||"Syntax",this.filename=r,this.index=t.index,this.line="number"==typeof l?l+1:null,this.column=c,!this.line&&this.stack){var u=this.stack.match(/(<anonymous>|Function):(\d+):(\d+)/);u&&(u[2]&&(this.line=parseInt(u[2])-2),u[3]&&(this.column=parseInt(u[3])))}this.callLine=a+1,this.callExtract=h[a],this.extract=[h[this.line-2],h[this.line-1],h[this.line]]}};if(void 0===Object.create){var s=function(){};s.prototype=Error.prototype,r.prototype=new s}else r.prototype=Object.create(Error.prototype);function o(t){return"object"!=typeof t||Array.isArray(t)||!function(t){var i;for(i in t)return!1;return!0}(t)}return r.prototype.constructor=r,r.prototype.toString=function(t){t=t||{};var i="",e=this.extract||[],n=[],r=function(t){return t};if(t.stylize){var s=typeof t.stylize;if("function"!==s)throw Error("options.stylize should be a function, got a "+s+"!");r=t.stylize}if(null!==this.line){if("string"==typeof e[0]&&n.push(r(this.line-1+" "+e[0],"grey")),"string"==typeof e[1]){var o=this.line+" ";e[1]&&(o+=e[1].slice(0,this.column)+r(r(r(e[1].substr(this.column,1),"bold")+e[1].slice(this.column+1),"red"),"inverse")),n.push(o)}"string"==typeof e[2]&&n.push(r(this.line+1+" "+e[2],"grey")),n=n.join("\n")+r("","reset")+"\n"}return i+=r(this.type+"Error: "+this.message,"red"),this.filename&&(i+=r(" in ","red")+this.filename),this.line&&(i+=r(" on line "+this.line+", column "+(this.column+1)+":","grey")),i+="\n"+n,this.callLine&&(i+=r("from ","red")+(this.filename||"")+"/n",i+=r(this.callLine,"grey")+" "+this.callExtract+"/n"),i},o(e.exports)?e.exports:o(i)?i:void 0});
//# sourceMappingURL=../sourcemaps/engine/less-error.js.map
