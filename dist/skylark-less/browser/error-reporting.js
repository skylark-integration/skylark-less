/**
 * skylark-less - A version of less.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-less/
 * @license MIT
 */
define(["./utils","./browser"],function(e,r){"use strict";var n={},o={exports:{}},t=e,i=r;function s(e){return"object"!=typeof e||Array.isArray(e)||!function(e){var r;for(r in e)return!1;return!0}(e)}return o.exports=function(e,r,n){return{add:function(o,s){n.errorReporting&&"html"!==n.errorReporting?"console"===n.errorReporting?function(e,o){var t=e.filename||o,i=[],s=(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+" in "+t,l=function(e,r,n){void 0!==e.extract[r]&&i.push("{line} {content}".replace(/\{line\}/,(parseInt(e.line,10)||0)+(r-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[r]))};e.line&&(l(e,0,""),l(e,1,"line"),l(e,2,""),s+=" on line "+e.line+", column "+(e.column+1)+":\n"+i.join("\n")),e.stack&&(e.extract||n.logLevel>=4)&&(s+="\nStack Trace\n"+e.stack),r.logger.error(s)}(o,s):"function"==typeof n.errorReporting&&n.errorReporting("add",o,s):function(r,o){var s,l,a="less-error-message:"+t.extractId(o||""),c=e.document.createElement("div"),p=[],d=r.filename||o,g=d.match(/([^\/]+(\?.*)?)$/)[1];c.id=a,c.className="less-error-message",l="<h3>"+(r.type||"Syntax")+"Error: "+(r.message||"There is an error in your .less file")+'</h3><p>in <a href="'+d+'">'+g+"</a> ";var m=function(e,r,n){void 0!==e.extract[r]&&p.push('<li><label>{line}</label><pre class="{class}">{content}</pre></li>'.replace(/\{line\}/,(parseInt(e.line,10)||0)+(r-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[r]))};r.line&&(m(r,0,""),m(r,1,"line"),m(r,2,""),l+="on line "+r.line+", column "+(r.column+1)+":</p><ul>"+p.join("")+"</ul>"),r.stack&&(r.extract||n.logLevel>=4)&&(l+="<br/>Stack Trace</br />"+r.stack.split("\n").slice(1).join("<br/>")),c.innerHTML=l,i.createCSS(e.document,[".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),c.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"===n.env&&(s=setInterval(function(){var r=e.document,n=r.body;n&&(r.getElementById(a)?n.replaceChild(c,r.getElementById(a)):n.insertBefore(c,n.firstChild),clearInterval(s))},10))}(o,s)},remove:function(r){n.errorReporting&&"html"!==n.errorReporting?"console"===n.errorReporting||"function"==typeof n.errorReporting&&n.errorReporting("remove",r):function(r){var n=e.document.getElementById("less-error-message:"+t.extractId(r));n&&n.parentNode.removeChild(n)}(r)}}},s(o.exports)?o.exports:s(n)?n:void 0});
//# sourceMappingURL=../sourcemaps/browser/error-reporting.js.map
